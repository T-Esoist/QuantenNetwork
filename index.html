<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T-ESOIST | eSIM Connectivity</title>
    <style>
        body { background: #000; color: #00f2ff; font-family: monospace; padding: 15px; text-align: center; }
        .esim-box { border: 2px solid #00f2ff; padding: 20px; border-radius: 15px; background: rgba(0,242,255,0.05); }
        .provider-list { margin-top: 20px; text-align: left; }
        .btn-buy { width: 100%; background: #00f2ff; color: #000; border: none; padding: 15px; font-weight: bold; margin-top: 10px; cursor: pointer; }
        .status { font-size: 10px; color: #ff0055; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="esim-box">
        <h3>eSIM CONNECTIVITY HUB</h3>
        <p style="font-size: 12px;">Keine SIM erkannt. Wähle Provider für T-ESOIST Integration:</p>
        
        <div class="provider-list">
            <input type="radio" name="provider" value="15.00" id="p1"> <label for="p1">Travel-Data (15,00€ / 5GB)</label><br>
            <input type="radio" name="provider" value="25.00" id="p2"> <label for="p2">Global-Connect (25,00€ / 20GB)</label><br>
        </div>

        <button class="btn-buy" onclick="buyESim()">ESIM MIT DEBIT BEZAHLEN</button>
        <div id="esim-status" class="status">SYSTEM READY</div>
    </div>

    <script>
        let esi = parseFloat(localStorage.getItem('ESI')) || 10000.0;
        const PHI = 1.61803398875;

        function buyESim() {
            const selected = document.querySelector('input[name="provider"]:checked');
            if(!selected) return alert("Bitte Anbieter wählen!");
            
            const priceEUR = parseFloat(selected.value);
            const reqESI = priceEUR / PHI;

            if(esi >= reqESI) {
                if(confirm("eSIM Kauf bestätigen:\nPreis: " + priceEUR + "€ (" + reqESI.toFixed(2) + " ESI)")) {
                    esi -= reqESI;
                    localStorage.setItem('ESI', esi);
                    document.getElementById('esim-status').innerText = "ZAHLUNG ERFOLGREICH. GENERIERE ESIM-PROFIL...";
                    setTimeout(() => {
                        alert("ERFOLG: Transaktion im Gitter verbucht. Du kannst jetzt den QR-Code des Anbieters in deinen Handy-Einstellungen scannen.");
                    }, 2000);
                }
            } else {
                alert("Nicht genug ESI im Gitter!");
            }
        }
    </script>
</body>
</html>