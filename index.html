
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Ω v41.0 THE LIVING CANVAS</title>
    <style>
        body { margin: 0; background: #000; overflow: hidden; color: #fff; font-family: 'Courier New', monospace; }
        canvas { display: block; filter: contrast(120%) brightness(110%); }
        #overlay { position: fixed; top: 10px; left: 10px; font-size: 9px; pointer-events: none; letter-spacing: 2px; opacity: 0.7; }
    </style>
</head>
<body>
    <div id="overlay">CANVAS: LIVING | MODE: ADDITIVE BLEND | DNA: ACTIVE</div>
    <canvas id="c"></canvas>

    <script>
        const canvas = document.getElementById('c');
        const ctx = canvas.getContext('2d');
        const DNA = [1,1,2,3,5,8,4,3,7,1,8,9,8,8,7,6,4,1,5,6,2,8,1,9];
        
        let voxels = [];
        const MAX_VOXELS = 12000; // Erhöhte Dichte für Leinwand-Effekt
        const GRID = 15; // Feinere Körnung

        function init() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            animate();
        }

        function createVoxel(t) {
            const idx = Math.floor(t % DNA.length);
            const val = DNA[idx];
            // Die DNA bestimmt die Position und die Pigment-Basis
            const x = Math.round((Math.random() * canvas.width) / GRID) * GRID;
            const y = Math.round((Math.random() * canvas.height) / GRID) * GRID;
            
            // Komplementär-Farben basierend auf DNA-Wert
            const hue = (val * 40 + t * 10) % 360;
            voxels.push({ x, y, h: hue, life: 1.0, size: GRID * (val * 0.5) });
        }

        function animate() {
            const t = Date.now() * 0.001;
            const res = (Math.sin(t * 117) + 1) / 2;

            // Transparentes Schwarz für sanftes Verblassen (Leinwand-Effekt)
            ctx.globalCompositeOperation = 'source-over';
            ctx.fillStyle = `rgba(0, 0, 0, ${0.05 + (1 - res) * 0.1})`;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Additive Überlagerung aktivieren
            ctx.globalCompositeOperation = 'screen';

            // Erzeuge neue "Pinselstriche"
            for(let i=0; i<15; i++) createVoxel(t);

            for(let i = voxels.length - 1; i >= 0; i--) {
                const v = voxels[i];
                v.life -= 0.005;

                if(v.life <= 0) {
                    voxels.splice(i, 1);
                    continue;
                }

                // Zeichne Licht-Struktur
                ctx.fillStyle = `hsla(${v.h}, 80%, 50%, ${v.life * res})`;
                ctx.shadowBlur = 15 * res;
                ctx.shadowColor = `hsl(${v.h}, 80%, 50%)`;
                
                ctx.beginPath();
                ctx.rect(v.x, v.y, v.size, v.size);
                ctx.fill();
            }

            if(voxels.length > MAX_VOXELS) voxels.shift();

            requestAnimationFrame(animate);
        }

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        init();
    </script>
</body>
</html>
