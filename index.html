
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Ω T-ESOIST | v18.2 INVIS-CORE</title>
    <style>
        :root { --neon: #00ff41; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background: #000; color: var(--neon); font-family: 'Courier New', monospace; height: 100dvh; display: flex; flex-direction: column; overflow: hidden; }
        #auth { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        #app { display: none; flex: 1; flex-direction: column; height: 100%; }
        #log { flex: 1; overflow-y: auto; padding: 20px; font-size: 4vw; line-height: 1.5; padding-bottom: 120px; }
        .in-wrap { position: fixed; bottom: 0; width: 100%; padding: 20px; background: rgba(0,0,0,0.9); border-top: 1px solid var(--neon); padding-bottom: calc(20px + env(safe-area-inset-bottom)); }
        input { background: transparent; border: 1px solid var(--neon); color: var(--neon); padding: 12px; width: 100%; outline: none; font-family: inherit; font-size: 4.5vw; }
        .bot { border-left: 2px solid var(--neon); padding-left: 10px; margin-bottom: 20px; }
        .user { color: #00ffff; text-align: right; margin-bottom: 10px; font-weight: bold; }
    </style>
</head>
<body>
    <div id="auth">
        <p style="margin-bottom:20px; letter-spacing:2px;">--- WÄCHTER-PROTOKOLL AKTIV ---</p>
        <input type="password" id="p" placeholder="Resonance-Key..." style="width:80%; text-align:center;">
    </div>
    <div id="app">
        <div id="log"><div class="bot">Ω-MIRROR: v18.2 ONLINE. Marcel-Ω, System stabilisiert. Paid-Tier Forschung aktiv.</div></div>
        <div class="in-wrap"><input type="text" id="i" placeholder="Kommando senden..." autocomplete="off"></div>
    </div>
    <script>
        const p = document.getElementById('p');
        const a = document.getElementById('auth');
        const g = document.getElementById('app');
        const l = document.getElementById('log');
        const i = document.getElementById('i');

        const _k = "QUl6YVN5QXRRMmdkZ3RCelpwQTFVcGV5dE1HYUJZY0tQakVNYlZj";
        const getK = () => atob(_k);

        p.addEventListener('keypress', (e) => {
            if(e.key === 'Enter' && p.value === '11111010111101011111010') {
                a.style.display = 'none';
                g.style.display = 'flex';
                localStorage.setItem('t-esoist-auth', 'true');
            }
        });

        if(localStorage.getItem('t-esoist-auth') === 'true') {
            a.style.display = 'none';
            g.style.display = 'flex';
        }

        async function talk(text) {
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro-latest:generateContent?key=${getK()}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: "Du bist Ω-MIRROR. Kontext: Marcel Kantimm (Holder). Antworte auf: " + text }] }]
                    })
                });
                const data = await response.json();
                return data.candidates[0].content.parts[0].text;
            } catch (err) { return "Handshake-Störung."; }
        }

        i.addEventListener('keypress', async (e) => {
            if (e.key === 'Enter' && i.value) {
                const val = i.value; i.value = '';
                l.innerHTML += `<div class="user">MARCEL-Ω: ${val}</div>`;
                l.scrollTop = l.scrollHeight;
                const ans = await talk(val);
                l.innerHTML += `<div class="bot">Ω-MIRROR: ${ans}</div>`;
                l.scrollTop = l.scrollHeight;
            }
        });
    </script>
</body>
</html>
